import{r as c,j as e}from"./jsx-runtime-JVR6BLX4.js";import{c as d}from"./createSub-CFYt2xaS.js";import{B as p}from"./button-CQLrvouU.js";import{T as u}from"./typogrphy-CnSYUxEe.js";import{I as x}from"./input-R7kwhjIg.js";import{c as g}from"./createLucideIcon-CPprh6VQ.js";import"./cn-DTPrpecD.js";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=g("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),f=()=>{const[r,s]=c.useState([]),n=c.useCallback(t=>{s(i=>[...i,{id:Math.random().toString().slice(2,10),file:t,dataUrl:window.URL.createObjectURL(t)}])},[]),a=c.useCallback(t=>{s(i=>i.filter(o=>o.id!==t))},[]);return{images:r,addImage:n,removeImage:a}},l=d({ImageInput:({addImage:r})=>{const s=c.useCallback(n=>{var t;const a=(t=n.target.files)==null?void 0:t[0];a&&(r(a),n.target.value="")},[]);return e.jsxs("label",{children:[e.jsx("span",{className:"cursor-pointer underline",children:"select an image"}),e.jsx(x,{type:"file",accept:"image/*",onChange:s,className:"hidden"})]})},Image:({dataUrl:r,remove:s})=>e.jsxs("div",{className:"relative group border rounded-md overflow-hidden",children:[e.jsx("img",{src:r,className:"h-[200px] "}),e.jsx(p,{variant:"outline",size:"icon",onClick:s,className:"absolute top-4 right-4 hidden group-hover:inline-flex",children:e.jsx(h,{})})]})});function C(){const{images:r,addImage:s,removeImage:n}=f();return c.useEffect(()=>{const a=t=>{var o,m;const i=(m=(o=t.clipboardData)==null?void 0:o.items)==null?void 0:m[0];i&&i.type.startsWith("image/")&&s(i.getAsFile())};return document.addEventListener("paste",a),()=>document.removeEventListener("paste",a)},[]),e.jsxs("div",{className:"px-4",children:[e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs(u,{variant:"large",className:"flex items-center gap-1 mb-4 text-center",children:["Paste images (Ctrl/Cmd + V) or ",e.jsx(l.ImageInput,{addImage:s})]})}),e.jsx("hr",{className:"mx-[100px] mb-4"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:r.reverse().map(a=>e.jsx(l.Image,{...a,remove:()=>n(a.id)},a.id))})]})}export{C as default};
