import{r as t,j as r}from"./jsx-runtime-JVR6BLX4.js";import{B as u}from"./button-C0O-YeUW.js";import"./cn-BRrbDnA6.js";function a(e){const s=t.useRef(0);return t.useEffect(()=>{s.current=s.current+1}),t.useEffect(()=>()=>{},[]),r.jsx("span",{...e,onClick:t.useCallback(()=>alert(s.current),[]),style:{backgroundColor:"lightgray",padding:"2px 8px",borderRadius:4,...e.style},children:s.current+1})}function o(){const[,e]=t.useReducer(s=>s+1,0);return e}function f(){const e=t.useRef(!1);return t.useLayoutEffect(()=>{e.current=!0},[]),e}function l(e,s,c=!0){const n=o(),d=f();t.useEffect(()=>{c&&!d.current&&n()},[]),t.useEffect(()=>{e==null||e.classList.add(s)}),t.useEffect(()=>{e==null||e.addEventListener("animationend",i=>{i.currentTarget.classList.remove(s)})},[e,s])}function p(){const e=o(),[,s]=t.useState({}),[,c]=t.useState(null),n=t.useRef(null);return l(n.current,"outline-blink"),r.jsxs("div",{ref:n,children:[r.jsxs("div",{children:["#rendered = ",r.jsx(a,{})]}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx(u,{onClick:e,children:"rerender"}),r.jsx(u,{onClick:()=>s(d=>d),children:r.jsxs("code",{children:["setState(x =",">"," x)"]})})]}),r.jsxs("div",{ref:c,className:"border border-gray-300 rounded-md p-2 mt-2",children:["This div accept ",r.jsx("code",{children:"stateDivRef"})," as ref, which is actually from"," ",r.jsx("code",{children:"useState"}),".",r.jsx("br",{}),"So every rerender should trigger a ",r.jsx("code",{children:"setState"})," under the hood.",r.jsx("br",{}),"Does it cause additional rerender (except for the first render)?"]})]})}export{p as default};
