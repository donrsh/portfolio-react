import{j as e,r as o}from"./jsx-runtime-JVR6BLX4.js";import{c as g}from"./createSub-CFYt2xaS.js";import{B as x}from"./button-CQLrvouU.js";import{T as h}from"./typogrphy-CnSYUxEe.js";import{I as f}from"./input-R7kwhjIg.js";import{c as j}from"./createLucideIcon-CPprh6VQ.js";import"./cn-DTPrpecD.js";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=j("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),I=()=>{const[i,r]=o.useState([]),a=o.useCallback(s=>{r(t=>[...t,{id:Math.random().toString().slice(2,10),file:s,dataUrl:window.URL.createObjectURL(s)}])},[]),n=o.useCallback(s=>{r(t=>t.filter(l=>l.id!==s))},[]);return{images:i,addImage:a,removeImage:n}},d=g({InputRegion:({title:i})=>{const{images:r,addImage:a,removeImage:n}=I(),s=o.useRef(null);return o.useEffect(()=>{var l;const t=c=>{var u,p;c.preventDefault();const m=(p=(u=c.clipboardData)==null?void 0:u.items)==null?void 0:p[0];m&&m.type.startsWith("image/")&&a(m.getAsFile())};return(l=s.current)==null||l.addEventListener("paste",t),()=>{var c;return(c=s.current)==null?void 0:c.removeEventListener("paste",t)}},[]),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(h,{variant:"large",children:i}),e.jsx("span",{children:"-"}),e.jsxs("div",{children:["Paste images (Ctrl / Cmd + V) or"," ",e.jsx(d.ImageFileInput,{addImage:a})]})]}),e.jsx("div",{tabIndex:0,ref:s,className:"border rounded-md p-2 min-h-[300px] overflow-y-auto flex flex-wrap gap-2 focus:ring-2 focus:ring-blue-500",children:r.reverse().map(t=>e.jsx(d.Image,{...t,remove:()=>n(t.id)},t.id))})]})},ImageFileInput:({addImage:i})=>{const r=o.useCallback(a=>{var s;const n=(s=a.target.files)==null?void 0:s[0];n&&(i(n),a.target.value="")},[]);return e.jsxs("label",{children:[e.jsx("span",{className:"cursor-pointer underline",children:"select an image"}),e.jsx(f,{type:"file",accept:"image/*",onChange:r,className:"hidden"})]})},Image:({dataUrl:i,remove:r,id:a})=>e.jsxs("div",{className:"relative group border rounded-md overflow-hidden h-fit",children:[e.jsx("img",{src:i,className:"h-[200px]"}),e.jsx(x,{variant:"outline",size:"icon",onClick:r,className:"absolute top-4 right-4 hidden group-hover:inline-flex",children:e.jsx(v,{})})]})});function E(){return e.jsx("div",{className:"px-4",children:e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx(d.InputRegion,{title:"Region 1"}),e.jsx(d.InputRegion,{title:"Region 2"})]})})}export{E as default};
