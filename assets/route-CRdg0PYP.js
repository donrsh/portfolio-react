import{j as e,r as o}from"./jsx-runtime-JVR6BLX4.js";import{c as h}from"./createSub-CFYt2xaS.js";import{B as x}from"./button-CQLrvouU.js";import{T as g}from"./typogrphy-CnSYUxEe.js";import{I as f}from"./input-R7kwhjIg.js";import{c as v}from"./createLucideIcon-CPprh6VQ.js";import"./cn-DTPrpecD.js";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=v("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),I=()=>{const[i,t]=o.useState([]),r=o.useCallback(s=>{t(a=>[...a,{id:Math.random().toString().slice(2,10),file:s,dataUrl:window.URL.createObjectURL(s)}])},[]),n=o.useCallback(s=>{t(a=>a.filter(c=>c.id!==s))},[]);return{images:i,addImage:r,removeImage:n}},d=h({InputRegion:({title:i})=>{const{images:t,addImage:r,removeImage:n}=I(),s=o.useRef(null);return o.useEffect(()=>{var c;const a=l=>{var u,p;l.preventDefault();const m=(p=(u=l.clipboardData)==null?void 0:u.items)==null?void 0:p[0];m&&m.type.startsWith("image/")&&r(m.getAsFile())};return(c=s.current)==null||c.addEventListener("paste",a),()=>{var l;return(l=s.current)==null?void 0:l.removeEventListener("paste",a)}},[]),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2",children:[e.jsx(g,{variant:"large",children:i}),e.jsxs(g,{variant:"small",className:"opacity-70",children:["Paste images (Ctrl / Cmd + V) or"," ",e.jsx(d.ImageFileInput,{addImage:r})]})]}),e.jsx("div",{tabIndex:0,ref:s,className:"border rounded-md p-2 min-h-[300px] overflow-y-auto flex flex-wrap gap-2 focus:ring-2 focus:ring-blue-500",children:t.reverse().map(a=>e.jsx(d.Image,{...a,remove:()=>n(a.id)},a.id))})]})},ImageFileInput:({addImage:i})=>{const t=o.useCallback(r=>{var s;const n=(s=r.target.files)==null?void 0:s[0];n&&(i(n),r.target.value="")},[]);return e.jsxs("label",{children:[e.jsx("span",{className:"cursor-pointer underline",children:"select an image"}),e.jsx(f,{type:"file",accept:"image/*",onChange:t,className:"hidden"})]})},Image:({dataUrl:i,remove:t,id:r})=>e.jsxs("div",{className:"relative group border rounded-md overflow-hidden h-fit",children:[e.jsx("img",{src:i,className:"h-[200px]"}),e.jsx(x,{variant:"outline",size:"icon",onClick:t,className:"absolute top-4 right-4 hidden group-hover:inline-flex",children:e.jsx(j,{})})]})});function E(){return e.jsx("div",{className:"px-4",children:e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx(d.InputRegion,{title:"Region 1"}),e.jsx(d.InputRegion,{title:"Region 2"})]})})}export{E as default};
