import{r as _,g as Se,j as y}from"./jsx-runtime-JVR6BLX4.js";import{u as _e}from"./useToggler-DAZg9NR_.js";const be={"@@functional/placeholder":!0};function c(e){return e===be}function w(e){return function t(r){return arguments.length===0||c(r)?t:e.apply(this,arguments)}}function v(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return c(r)?t:w(function(o){return e(r,o)});default:return c(r)&&c(n)?t:c(r)?w(function(o){return e(o,n)}):c(n)?w(function(o){return e(r,o)}):e(r,n)}}}function P(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(r){return t.apply(this,arguments)};case 2:return function(r,n){return t.apply(this,arguments)};case 3:return function(r,n,o){return t.apply(this,arguments)};case 4:return function(r,n,o,u){return t.apply(this,arguments)};case 5:return function(r,n,o,u,i){return t.apply(this,arguments)};case 6:return function(r,n,o,u,i,d){return t.apply(this,arguments)};case 7:return function(r,n,o,u,i,d,a){return t.apply(this,arguments)};case 8:return function(r,n,o,u,i,d,a,p){return t.apply(this,arguments)};case 9:return function(r,n,o,u,i,d,a,p,A){return t.apply(this,arguments)};case 10:return function(r,n,o,u,i,d,a,p,A,x){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function se(e,t,r){return function(){for(var n=[],o=0,u=e,i=0,d=!1;i<t.length||o<arguments.length;){var a;i<t.length&&(!c(t[i])||o>=arguments.length)?a=t[i]:(a=arguments[o],o+=1),n[i]=a,c(a)?d=!0:u-=1,i+=1}return!d&&u<=0?r.apply(this,n):P(Math.max(0,u),se(e,n,r))}}var xe=v(function(t,r){return t===1?w(r):P(t,se(t,[],r))});function Q(e){return function t(r,n,o){switch(arguments.length){case 0:return t;case 1:return c(r)?t:v(function(u,i){return e(r,u,i)});case 2:return c(r)&&c(n)?t:c(r)?v(function(u,i){return e(u,n,i)}):c(n)?v(function(u,i){return e(r,u,i)}):w(function(u){return e(r,n,u)});default:return c(r)&&c(n)&&c(o)?t:c(r)&&c(n)?v(function(u,i){return e(u,i,o)}):c(r)&&c(o)?v(function(u,i){return e(u,n,i)}):c(n)&&c(o)?v(function(u,i){return e(r,u,i)}):c(r)?w(function(u){return e(u,n,o)}):c(n)?w(function(u){return e(r,u,o)}):c(o)?w(function(u){return e(r,n,u)}):e(r,n,o)}}}const Z=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function je(e){return e!=null&&typeof e["@@transducer/step"]=="function"}function Le(e,t,r){return function(){if(arguments.length===0)return r();var n=arguments[arguments.length-1];if(!Z(n)){for(var o=0;o<e.length;){if(typeof n[e[o]]=="function")return n[e[o]].apply(n,Array.prototype.slice.call(arguments,0,-1));o+=1}if(je(n)){var u=t.apply(null,Array.prototype.slice.call(arguments,0,-1));return u(n)}}return r.apply(this,arguments)}}const re={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}};function G(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var ne=Object.prototype.toString,Oe=function(){return ne.call(arguments)==="[object Arguments]"?function(t){return ne.call(t)==="[object Arguments]"}:function(t){return G("callee",t)}}(),Ae=!{toString:null}.propertyIsEnumerable("toString"),oe=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ue=function(){return arguments.propertyIsEnumerable("length")}(),Ce=function(t,r){for(var n=0;n<t.length;){if(t[n]===r)return!0;n+=1}return!1},Te=w(typeof Object.keys=="function"&&!ue?function(t){return Object(t)!==t?[]:Object.keys(t)}:function(t){if(Object(t)!==t)return[];var r,n,o=[],u=ue&&Oe(t);for(r in t)G(r,t)&&(!u||r!=="length")&&(o[o.length]=r);if(Ae)for(n=oe.length-1;n>=0;)r=oe[n],G(r,t)&&!Ce(o,r)&&(o[o.length]=r),n-=1;return o});function Ie(e,t){for(var r=0,n=t.length,o=Array(n);r<n;)o[r]=e(t[r]),r+=1;return o}function Me(e,t,r){for(var n=0,o=r.length;n<o;)t=e(t,r[n]),n+=1;return t}var Pe=function(){function e(t,r){this.xf=r,this.f=t}return e.prototype["@@transducer/init"]=re.init,e.prototype["@@transducer/result"]=re.result,e.prototype["@@transducer/step"]=function(t,r){return this.xf["@@transducer/step"](t,this.f(r))},e}(),$e=function(t){return function(r){return new Pe(t,r)}},ie=v(Le(["fantasy-land/map","map"],$e,function(t,r){switch(Object.prototype.toString.call(r)){case"[object Function]":return xe(r.length,function(){return t.call(this,r.apply(this,arguments))});case"[object Object]":return Me(function(n,o){return n[o]=t(r[o]),n},{},Te(r));default:return Ie(t,r)}}));const De=Number.isInteger||function(t){return t<<0===t};function ce(e){return Object.prototype.toString.call(e)==="[object String]"}function ke(e,t){var r=e<0?t.length+e:e;return ce(t)?t.charAt(r):t[r]}var Fe=v(function(t,r){if(r!=null)return De(t)?ke(t,r):r[t]}),ze=w(function(t){return Z(t)?!0:!t||typeof t!="object"||ce(t)?!1:t.length===0?!0:t.length>0?t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1):!1}),ae=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function Ne(e,t,r){return function(o,u,i){if(ze(i))return e(o,u,i);if(i==null)return u;if(typeof i["fantasy-land/reduce"]=="function")return t(o,u,i,"fantasy-land/reduce");if(i[ae]!=null)return r(o,u,i[ae]());if(typeof i.next=="function")return r(o,u,i);if(typeof i.reduce=="function")return t(o,u,i,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function Re(e,t,r){for(var n=0,o=r.length;n<o;){if(t=e["@@transducer/step"](t,r[n]),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}var Xe=v(function(t,r){return P(t.length,function(){return t.apply(r,arguments)})});function Ve(e,t,r){for(var n=r.next();!n.done;){if(t=e["@@transducer/step"](t,n.value),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=r.next()}return e["@@transducer/result"](t)}function We(e,t,r,n){return e["@@transducer/result"](r[n](Xe(e["@@transducer/step"],e),t))}var Be=Ne(Re,We,Ve),He=function(){function e(t){this.f=t}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(t){return t},e.prototype["@@transducer/step"]=function(t,r){return this.f(t,r)},e}();function Ye(e){return new He(e)}var qe=Q(function(e,t,r){return Be(typeof e=="function"?Ye(e):e,t,r)});function Je(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function le(e,t){return function(){var r=arguments.length;if(r===0)return t();var n=arguments[r-1];return Z(n)||typeof n[e]!="function"?t.apply(this,arguments):n[e].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var Ke=Q(le("slice",function(t,r,n){return Array.prototype.slice.call(n,t,r)})),Ue=w(le("tail",Ke(1,1/0)));function Ge(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return P(arguments[0].length,qe(Je,arguments[0],Ue(arguments)))}var Qe=v(function(t,r){return r==null||r!==r?t:r}),Ze=Q(function(t,r,n){var o=t(r),u=t(n);return o>u?-1:o<u?1:0}),et=v(function(t,r){return Array.prototype.slice.call(r,0).sort(function(n,o){for(var u=0,i=0;u===0&&i<t.length;)u=t[i](n,o),i+=1;return u})}),fe={exports:{}},s={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ee=Symbol.for("react.element"),te=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),z=Symbol.for("react.context"),tt=Symbol.for("react.server_context"),N=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),rt=Symbol.for("react.offscreen"),pe;pe=Symbol.for("react.module.reference");function E(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ee:switch(e=e.type,e){case $:case k:case D:case R:case X:return e;default:switch(e=e&&e.$$typeof,e){case tt:case z:case N:case W:case V:case F:return e;default:return t}}case te:return t}}}s.ContextConsumer=z;s.ContextProvider=F;s.Element=ee;s.ForwardRef=N;s.Fragment=$;s.Lazy=W;s.Memo=V;s.Portal=te;s.Profiler=k;s.StrictMode=D;s.Suspense=R;s.SuspenseList=X;s.isAsyncMode=function(){return!1};s.isConcurrentMode=function(){return!1};s.isContextConsumer=function(e){return E(e)===z};s.isContextProvider=function(e){return E(e)===F};s.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ee};s.isForwardRef=function(e){return E(e)===N};s.isFragment=function(e){return E(e)===$};s.isLazy=function(e){return E(e)===W};s.isMemo=function(e){return E(e)===V};s.isPortal=function(e){return E(e)===te};s.isProfiler=function(e){return E(e)===k};s.isStrictMode=function(e){return E(e)===D};s.isSuspense=function(e){return E(e)===R};s.isSuspenseList=function(e){return E(e)===X};s.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$||e===k||e===D||e===R||e===X||e===rt||typeof e=="object"&&e!==null&&(e.$$typeof===W||e.$$typeof===V||e.$$typeof===F||e.$$typeof===z||e.$$typeof===N||e.$$typeof===pe||e.getModuleId!==void 0)};s.typeOf=E;fe.exports=s;var nt=fe.exports;function ot(e){const t=_.memo,r=n=>nt.isValidElementType(n)?t(n):ie(r,n);return ie(r,e)}var me={exports:{}};(function(e){var t=Object.assign||function(n){for(var o,u=1;u<arguments.length;u++)for(var i in o=arguments[u],o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i]);return n},r=function(n,o){if(n){typeof window<"u"&&function(){function l(m,S){S=S||{bubbles:!1,cancelable:!1,detail:void 0};var L=document.createEvent("CustomEvent");return L.initCustomEvent(m,S.bubbles,S.cancelable,S.detail),L}return typeof window.CustomEvent!="function"&&(l.prototype=window.Event.prototype,void(window.CustomEvent=l))}(),o||(o={}),o=t({},{minHorizontal:10,minVertical:10,deltaHorizontal:3,deltaVertical:5,preventScroll:!1,lockAxis:!0,touch:!0,mouse:!0},o);var u=[],i=!1,d=function(){i=!0},a=function(l){i=!1,A(l)},p=function(l){i&&(l.changedTouches=[{clientX:l.clientX,clientY:l.clientY}],x(l))};o.mouse&&(n.addEventListener("mousedown",d),n.addEventListener("mouseup",a),n.addEventListener("mousemove",p));var A=function(l){var m=Math.abs,S=Math.max,L=Math.min;if(u.length){for(var I=typeof TouchEvent=="function"&&l instanceof TouchEvent,h=[],g=[],f={top:!1,right:!1,bottom:!1,left:!1},C=0;C<u.length;C++)h.push(u[C].x),g.push(u[C].y);var B=h[0],H=h[h.length-1],Y=g[0],q=g[g.length-1],J={x:[B,H],y:[Y,q]};if(1<u.length){var ye={detail:t({touch:I,target:l.target},J)},de=new CustomEvent("swiperelease",ye);n.dispatchEvent(de)}var M=h[0]-h[h.length-1],O="none";O=0<M?"left":"right";var b,K=L.apply(Math,h),U=S.apply(Math,h);if(m(M)>=o.minHorizontal&&(O=="left"?(b=m(K-h[h.length-1]),b<=o.deltaHorizontal&&(f.left=!0)):O=="right"&&(b=m(U-h[h.length-1]),b<=o.deltaHorizontal&&(f.right=!0))),M=g[0]-g[g.length-1],O="none",O=0<M?"top":"bottom",K=L.apply(Math,g),U=S.apply(Math,g),m(M)>=o.minVertical&&(O=="top"?(b=m(K-g[g.length-1]),b<=o.deltaVertical&&(f.top=!0)):O=="bottom"&&(b=m(U-g[g.length-1]),b<=o.deltaVertical&&(f.bottom=!0))),u=[],f.top||f.right||f.bottom||f.left){o.lockAxis&&((f.left||f.right)&&m(B-H)>m(Y-q)?f.top=f.bottom=!1:(f.top||f.bottom)&&m(B-H)<m(Y-q)&&(f.left=f.right=!1));var ve={detail:t({directions:f,touch:I,target:l.target},J)},we=new CustomEvent("swipe",ve);n.dispatchEvent(we)}else{var Ee=new CustomEvent("swipecancel",{detail:t({touch:I,target:l.target},J)});n.dispatchEvent(Ee)}}},x=function(l){var m=l.changedTouches[0];if(u.push({x:m.clientX,y:m.clientY}),1<u.length){var S=u[0].x,L=u[u.length-1].x,I=u[0].y,h=u[u.length-1].y,g={detail:{x:[S,L],y:[I,h],touch:typeof TouchEvent=="function"&&l instanceof TouchEvent,target:l.target}},f=new CustomEvent("swiping",g),C=o.preventScroll===!0||typeof o.preventScroll=="function"&&o.preventScroll(f);C&&l.preventDefault(),n.dispatchEvent(f)}},j=!1;try{var T=Object.defineProperty({},"passive",{get:function(){j={passive:!o.preventScroll}}});window.addEventListener("testPassive",null,T),window.removeEventListener("testPassive",null,T)}catch{}return o.touch&&(n.addEventListener("touchmove",x,j),n.addEventListener("touchend",A)),{off:function(){n.removeEventListener("touchmove",x,j),n.removeEventListener("touchend",A),n.removeEventListener("mousedown",d),n.removeEventListener("mouseup",a),n.removeEventListener("mousemove",p)}}}};e.exports=r,e.exports.default=r})(me);var ut=me.exports;const it=Se(ut),he="applet.fullscreen-emoji.emoji-cache",ge=Ge(()=>localStorage.getItem(he)??"null",JSON.parse,Qe([]),et([Ze(Fe("usedTimes"))])),at=e=>{const t=ge(),r=t.find(n=>n.emoji===e);r?r.usedTimes+=1:t.push({emoji:e,usedTimes:1}),localStorage.setItem(he,JSON.stringify(t))},st="/portfolio-react/assets/emoji-favicon-Da_G2-bh.png",ct=ot({Dialog:({emoji:e,onClose:t})=>{const r=_.useRef(null);return _.useEffect(()=>{const n=r.current;if(n)return it(n),n.addEventListener("swipe",t),()=>n.removeEventListener("swipe",t)},[t]),y.jsx("div",{ref:r,className:"dialog center",style:{},children:y.jsx("div",{className:"emoji",children:e})})}});function pt(){const{isOpen:e,openWithData:t,close:r,data:n}=_e(),o=_.useCallback(a=>{t(a),at(a)},[t]),u=_.useCallback(a=>{var T;a.preventDefault();const p=a.currentTarget,x=(T=new FormData(a.currentTarget).get("emoji"))==null?void 0:T.trim(),j=p.querySelector("input[name='emoji']");x&&j&&(j.blur(),j.value="",o(x))},[o]),i=_.useCallback(a=>{var p;a.key==="Enter"&&((p=a.currentTarget.form)==null||p.submit())},[]),d=_.useCallback(a=>{const p=a.currentTarget.dataset.emoji;p&&o(p)},[o]);return _.useEffect(()=>{const a=p=>{p.key==="Escape"&&r()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[r]),_.useEffect(()=>{let a=document.querySelector("link[rel~='icon']");a||(a=document.createElement("link"),a.rel="icon",document.head.appendChild(a)),a.href=st},[]),y.jsxs(y.Fragment,{children:[e&&y.jsx(ct.Dialog,{emoji:n,onClose:r}),y.jsxs("div",{children:[y.jsx("form",{onSubmit:u,children:y.jsxs("label",{className:"row-vcenter",style:{gap:8,width:"100%"},children:[y.jsx("span",{style:{flex:0},children:"Emoji"}),y.jsx("input",{name:"emoji",onKeyUp:i,style:{flex:1,minWidth:120,fontSize:20}}),y.jsx("button",{type:"submit",style:{flex:0,paddingBlock:4},children:"Show!"})]})}),y.jsx("hr",{}),y.jsx("div",{className:"shortcut-buttons",children:ge().map(a=>y.jsx("button",{"data-emoji":a.emoji,onClick:d,style:{fontSize:20},children:a.emoji},a.emoji))})]})]})}export{pt as default};
